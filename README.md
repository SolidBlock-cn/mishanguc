欢迎使用迷上城建（Mishang Urban Construction）模组。本模组为您提供了一系列方块和工具，打造出精美的城市。目前本模组还在开发中，各功能还不稳定，未来还会加入更加内容。

模组还不稳定，请勿将本模组内容用于实际开发中，以免因模组出现不兼容的更新而导致旧的内容消失。

<big style="color:red;text-shadow:1px 1px yellow">**本模组依赖 ARRP！**</big>

For English version of the description, see [this file](README-en.md).

[点击此处查看更新记录。](UpdateLog.md)

## 如何安装

本模组使用 Fabric Loader，并依赖 Fabric API 和 ARRP（高级运行时资源包）模组。请在安装本模组时，确保安装了 Fabric API 和 ARRP，否则可能造成游戏无法启动或者内容缺失。

## 模组内容

本模组加入了一系列方块和物品。这些模组内容暂不支持合成。

### 道路方块

本模组添加了一系列道路方块，用来构建你的城市中的道路。目前道路均为柏油路，支持白色与黄色标线。道路和标线均位于同一方块，且分为完整方块和台阶。大多数带有朝向的方块在潜行时可以切换方向。

本模组还添加了可自动标线的道路，放下后若侧面有方块更新，则会根据周围道路的标线来自动确定自身的标线形状和方向（点击方块顶部也可以手动触发更新），注意一旦确定好标线就无法再次自动更改。

### 灯方块

本模组添加了一系列灯方块，包括完整灯块和装饰物方块。这些方块可放在水中，且不需要红石触发。

条形灯管方块可放置在墙上、地上或天花板上。放置在墙上时默认是水平的，潜行时放置可放置垂直方向的条形灯管方块。

灯装饰物方块是吸附在方块面上并且可以在各个方向自动连接的方块。

### 告示牌方块

本模组添加了各种材质的告示牌方块，包括悬挂着的告示牌和墙上的告示牌。其中，悬挂告示牌方向的两侧都可以写文字，且当告示牌上方连接有方块或告示牌杆方块时，会显示告示牌杆。悬挂的告示牌的文字与方向对应，暂不支持直接旋转，如放置带有 NBT 的方块，应确保放置的方向与获取时的方向一致，以免文字不显示。

本模组有个隐形告示牌方块，自身不可见，但告示牌上的文字可见。

所有告示牌均可放在水中。此外，墙上的告示牌可以放在地上和天花板上，这与原版不同。

点击告示牌即可编辑文本。支持多行文本。注意：添加文本时不会自动排版，可点击“重排”按钮对各行进行纵轴方向上的排版（使用重排功能时，启用了“绝对”的文本行会被忽略）。你可以调整各行的大小、偏移、颜色等参数。其中，颜色可通过按钮调节（仅限内置的16种颜色），也可以在旁边的文本框输入自定义颜色（数值、十六进制或者游戏内置的颜色名称），如果文本框中输入的是自定义颜色，则按钮可能会被禁用。注意：请谨慎开启“阴影”功能，当不同方向的文本都开启了“阴影”功能时，文本的显示次序可能存在异常。

在告示牌编辑界面，各个按钮都进行了增强：点击按钮可调整数值，鼠标右键点击按钮或者按住 Shift 点击按钮可反方向调整，鼠标滚轮点击按钮或者按住 Alt+Shift 点击按钮可恢复默认值。滚动鼠标滚轮亦可用于调节数值。此外，按住 Ctrl 可 8 倍速调整，按住 Alt 可 1/8 倍速调整。

### 工具

本模组添加了一系列用来辅助建造的工具。大多数工具在按下 Shift 时可以处理流体（水或者熔岩）。大多数工具都是获取的服务器数据，而非客户端数据。

- **道路连接状态调试工具**：点击道路方块即可查看该道路在系统内部的各方向上的连接方向等情况。道路连接状态主要用于自动标线的道路方块识别。
- **ID检查工具**：点击方块或实体时可以用来查看方块或实体的ID，如果对着空气点击则可以用于获取生物群系的ID。
- **快速建造工具**：可以用来快速地放置或者移除多个方块。受影响的方块取决于该物品的“匹配规则”和“范围”，例如，拿着匹配规则为“相同材料”、范围为16的快速建造工具点击橡木木板时，该平面上16格以内与该橡木木板方块相连的所有木质方块都会受到影响。放置方块时，会直接复制被点击的平面上的方块，但如果副手拿着方块，则使用副手上的方块。此外，按住 Shift 时可放置流体。
- **旋转工具**：点击方块即可旋转。按住 Shift 可反方向旋转。
- **镜像工具**：点击方块时可沿着被点击的方向翻折方块。例如，朝东的楼梯方块，点击该方块的东侧或者西侧可变成朝西的，点击南侧或者北侧不受影响（因为该方块本来就南北对称）。
- **台阶工具**：可用来只破坏双台阶方块的一半。从 Minecraft 1.17 开始，支持直接将具有台阶的完整方块（仅限原版方块以及本模组的方块，不含其他模组的方块）转化为台阶，例如对着橡木木板方块破坏即可将其转化为橡木台阶。该功能在 Minecraft 1.16.5 不受支持。
- **强制放置工具**：可用于强制放置或破坏方块而不造成方块更新，如果被放置方块的地方已有方块，该方块将会被替换。可用此工具来形成本来不可能做到的方块悬空效果。副手拿着方块时，放置该方块，否则放置被点击的方块。
- **方块状态工具**：点击方块即可获取方块状态属性。
- **数据标签工具**：点击方块或者实体即可获取其所有 NBT 数据标签。

还有更多内容将在新版本添加，敬请期待。

## 关于 API

本模组使用的 Fabric API 存在一些局限，因此对这些 API 进行了一些扩展，以实现模组的一些特性而不影响与其他模组的兼容性。